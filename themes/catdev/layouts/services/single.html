{{ define "main" }}
  <!-- Page Header -->
  <section class="section bg-theme-light dark:bg-darkmode-theme-light">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-10">
          <div class="flex items-center gap-2 text-sm text-text mb-4">
            <a href="{{ "services/" | absURL }}" class="hover:text-primary">Services</a>
            <i class="fa-solid fa-chevron-right text-xs"></i>
            <span>{{ .Title }}</span>
          </div>
          <div class="flex items-start gap-6">
            {{ with .Params.icon }}
              <div class="hidden md:flex flex-shrink-0 w-20 h-20 bg-primary/10 rounded-xl items-center justify-center">
                <i class="{{ . }} text-primary text-4xl"></i>
              </div>
            {{ end }}
            <div>
              <h1 class="mb-4">{{ .Title }}</h1>
              <p class="text-lg text-text">{{ .Params.description }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Overview Section -->
  {{ with .Params.overview }}
    <section class="section">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-10">
            <div class="row items-center">
              <div class="lg:col-6 mb-8 lg:mb-0">
                <h2 class="mb-4">{{ .title }}</h2>
                <div class="prose prose-lg">
                  {{ .content | markdownify }}
                </div>
              </div>
              <div class="lg:col-6">
                <div class="bg-theme-light dark:bg-darkmode-theme-light rounded-lg p-8">
                  <h3 class="h5 mb-4">Key Benefits</h3>
                  <ul class="space-y-3">
                    {{ range .benefits }}
                      <li class="flex items-start gap-3">
                        <i class="fa-solid fa-check text-primary mt-1"></i>
                        <span>{{ . }}</span>
                      </li>
                    {{ end }}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Services Offered -->
  {{ with .Params.services_offered }}
    <section class="section bg-theme-light dark:bg-darkmode-theme-light">
      <div class="container">
        <div class="row justify-center mb-12">
          <div class="lg:col-8 text-center">
            <h2 class="mb-4">{{ .title }}</h2>
            {{ with .subtitle }}
              <p class="text-lg text-text">{{ . }}</p>
            {{ end }}
          </div>
        </div>
        <div class="row justify-center">
          <div class="lg:col-10">
            <div class="row">
              {{ range .items }}
                <div class="md:col-6 mb-6">
                  <div class="bg-body dark:bg-darkmode-body rounded-lg p-6 h-full">
                    <h3 class="h5 mb-3">{{ .title }}</h3>
                    <p class="text-text mb-4">{{ .description }}</p>
                    {{ with .includes }}
                      <ul class="space-y-2 text-sm">
                        {{ range . }}
                          <li class="flex items-center gap-2">
                            <i class="fa-solid fa-check text-primary text-xs"></i>
                            <span>{{ . }}</span>
                          </li>
                        {{ end }}
                      </ul>
                    {{ end }}
                  </div>
                </div>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Engagement Process -->
  {{ with .Params.process }}
    <section class="section">
      <div class="container">
        <div class="row justify-center mb-12">
          <div class="lg:col-8 text-center">
            <h2 class="mb-4">{{ .title }}</h2>
            {{ with .subtitle }}
              <p class="text-lg text-text">{{ . }}</p>
            {{ end }}
          </div>
        </div>
        <div class="row justify-center">
          <div class="lg:col-10">
            {{ range $i, $step := .steps }}
              <div class="flex gap-6 mb-8 {{ if not (eq $i (sub (len $.Params.process.steps) 1)) }}pb-8 border-b border-border dark:border-darkmode-border{{ end }}">
                <div class="flex-shrink-0 w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center font-bold">
                  {{ add $i 1 }}
                </div>
                <div>
                  <h3 class="h5 mb-2">{{ $step.title }}</h3>
                  <p class="text-text">{{ $step.description }}</p>
                </div>
              </div>
            {{ end }}
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Is This For You -->
  {{ with .Params.ideal_for }}
    <section class="section bg-theme-light dark:bg-darkmode-theme-light">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-10">
            <div class="row items-center">
              <div class="lg:col-5 mb-8 lg:mb-0">
                <h2 class="mb-4">{{ .title }}</h2>
                <p class="text-text">{{ .description }}</p>
              </div>
              <div class="lg:col-7">
                <div class="bg-body dark:bg-darkmode-body rounded-lg p-8">
                  <h3 class="h5 mb-4">This service is right for you if:</h3>
                  <ul class="space-y-3">
                    {{ range .criteria }}
                      <li class="flex items-start gap-3">
                        <i class="fa-solid fa-check-circle text-primary mt-1"></i>
                        <span>{{ . }}</span>
                      </li>
                    {{ end }}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Content -->
  {{ if .Content }}
    <section class="section">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-10">
            <div class="content">
              {{ .Content }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- CTA -->
  <section class="section bg-primary">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-8 text-center text-white">
          <h2 class="mb-4 text-white">{{ .Params.cta.title | default "Ready to Get Started?" }}</h2>
          <p class="mb-8 text-white/80">{{ .Params.cta.description | default "Schedule a discovery call to discuss your requirements and how we can help." }}</p>
          <a href="{{ "contact/" | absURL }}" class="btn bg-white text-primary hover:bg-white/90">
            {{ .Params.cta.button | default "Request a Consultation" }}
            <i class="fa fa-arrow-right pl-2"></i>
          </a>
        </div>
      </div>
    </div>
  </section>
{{ end }}
