{{ define "main" }}
  <!-- Page Header -->
  <section class="section bg-theme-light dark:bg-darkmode-theme-light">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-10">
          <div class="flex items-center gap-2 text-sm text-text mb-4">
            <a href="{{ "case-studies/" | absURL }}" class="hover:text-primary">Case Studies</a>
            <i class="fa-solid fa-chevron-right text-xs"></i>
            <span>{{ .Params.project.type }}</span>
          </div>
          <h1 class="mb-4">{{ .Title }}</h1>
          <p class="text-lg text-text mb-6">{{ .Params.description }}</p>

          <!-- Client & Project Info -->
          <div class="flex flex-wrap gap-6 text-sm">
            <div>
              <span class="text-text">Industry:</span>
              <span class="font-medium">{{ .Params.client.industry }}</span>
            </div>
            <div>
              <span class="text-text">Company Size:</span>
              <span class="font-medium">{{ .Params.client.size }}</span>
            </div>
            <div>
              <span class="text-text">Duration:</span>
              <span class="font-medium">{{ .Params.project.duration }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Challenge -->
  {{ with .Params.challenge }}
    <section class="section">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-10">
            <h2 class="mb-4">{{ .title }}</h2>
            <div class="content text-lg">
              {{ .content | markdownify }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Approach -->
  {{ with .Params.approach }}
    <section class="section bg-theme-light dark:bg-darkmode-theme-light">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-10">
            <h2 class="mb-8">{{ .title }}</h2>
            <div class="space-y-6">
              {{ range $i, $step := .steps }}
                <div class="flex gap-6">
                  <div class="flex-shrink-0 w-10 h-10 bg-primary text-white rounded-full flex items-center justify-center font-bold">
                    {{ add $i 1 }}
                  </div>
                  <div>
                    <h3 class="h5 mb-2">{{ $step.title }}</h3>
                    <p class="text-text">{{ $step.description }}</p>
                  </div>
                </div>
              {{ end }}
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Results -->
  {{ with .Params.results }}
    <section class="section">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-10">
            <h2 class="mb-8 text-center">{{ .title }}</h2>

            <!-- Metrics -->
            {{ with .metrics }}
              <div class="grid grid-cols-3 gap-8 mb-12">
                {{ range . }}
                  <div class="text-center">
                    <div class="text-4xl lg:text-5xl font-bold text-primary mb-2">{{ .value }}</div>
                    <div class="text-sm text-text">{{ .label }}</div>
                  </div>
                {{ end }}
              </div>
            {{ end }}

            <!-- Outcomes -->
            {{ with .outcomes }}
              <div class="bg-theme-light dark:bg-darkmode-theme-light rounded-lg p-8">
                <h3 class="h5 mb-4">Key Outcomes</h3>
                <ul class="space-y-3">
                  {{ range . }}
                    <li class="flex items-start gap-3">
                      <i class="fa-solid fa-check-circle text-primary mt-1"></i>
                      <span>{{ . }}</span>
                    </li>
                  {{ end }}
                </ul>
              </div>
            {{ end }}
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Testimonial -->
  {{ with .Params.testimonial }}
    <section class="section bg-primary">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-8 text-center text-white">
            <svg class="w-12 h-12 mx-auto mb-6 text-white/30" viewBox="0 0 33 20" fill="currentColor">
              <path d="M1.28375 19.41L0.79375 18.64C1.21375 17.0067 1.75042 15.07 2.40375 12.83C3.05708 10.5433 3.75708 8.28 4.50375 6.04C5.29708 3.75333 6.06708 1.77 6.81375 0.0899959H15.3538C14.9338 2.09666 14.4904 4.26667 14.0238 6.6C13.5571 8.88666 13.1371 11.15 12.7638 13.39C12.4371 15.5833 12.1571 17.59 11.9238 19.41H1.28375ZM31.69 0.0899959L32.18 0.859998C31.76 2.54 31.2233 4.5 30.57 6.74C29.9167 8.98 29.2167 11.2433 28.47 13.53C27.7233 15.77 26.9533 17.73 26.16 19.41H17.69C18.0167 17.9167 18.3433 16.33 18.67 14.65C18.9967 12.9233 19.3 11.22 19.58 9.54C19.9067 7.81333 20.1867 6.15667 20.42 4.57C20.7 2.93666 20.91 1.44333 21.05 0.0899959H31.69Z" />
            </svg>
            <blockquote class="text-xl lg:text-2xl mb-6 text-white">{{ .quote }}</blockquote>
            <div>
              <div class="font-semibold">{{ .author }}</div>
              <div class="text-white/70">{{ .company }}</div>
            </div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- Content -->
  {{ if .Content }}
    <section class="section">
      <div class="container">
        <div class="row justify-center">
          <div class="lg:col-10">
            <div class="content">{{ .Content }}</div>
          </div>
        </div>
      </div>
    </section>
  {{ end }}

  <!-- CTA -->
  <section class="section bg-theme-light dark:bg-darkmode-theme-light">
    <div class="container">
      <div class="row justify-center">
        <div class="lg:col-8 text-center">
          <h2 class="mb-4">Have a Similar Challenge?</h2>
          <p class="text-text mb-8">Let's discuss how we can help your organization achieve similar results.</p>
          <a href="{{ "contact/" | absURL }}" class="btn btn-primary">
            Start a Conversation
            <i class="fa fa-arrow-right pl-2"></i>
          </a>
        </div>
      </div>
    </div>
  </section>
{{ end }}
