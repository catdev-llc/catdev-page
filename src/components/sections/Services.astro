---
const serviceCategories = [
  {
    title: 'Secure Cloud-Native Delivery Platform',
    tagline: 'End-to-end platform engineering',
    badge: 'FLAGSHIP',
    color: 'cyan',
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01" /></svg>`,
    services: [
      {
        title: 'Infrastructure as Code (Terraform, Ansible)',
        description: 'Reproducible, version-controlled infrastructure across AWS, GCP, and Azure.',
      },
      {
        title: 'Production Kubernetes Clusters',
        description: 'Multi-cloud K8s with autoscaling, monitoring, disaster recovery, and security hardening.',
      },
      {
        title: 'CI/CD Pipelines',
        description: 'GitHub Actions, GitLab CI, ArgoCD, Tekton—automated testing, builds, and deployments.',
      },
      {
        title: 'Container Security & SBOM',
        description: 'Vulnerability scanning, image signing, provenance tracking, SLSA compliance.',
      },
      {
        title: 'Deployment Automation',
        description: 'GitOps workflows, blue/green deployments, canary releases, automated rollbacks.',
      },
      {
        title: 'Observability & Monitoring',
        description: 'Prometheus, Grafana, ELK/EFK stacks—full-stack visibility into your platform.',
      },
    ],
  },
  {
    title: 'Software Supply Chain Hardening',
    tagline: 'Zero-trust supply chain security',
    color: 'electric',
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg>`,
    services: [
      {
        title: 'SLSA Framework Implementation',
        description: 'Build provenance, artifact signing, verification chains for tamper-proof deployments.',
      },
      {
        title: 'Dependency Security Audits',
        description: 'Continuous scanning of third-party libraries, licenses, and CVE tracking.',
      },
      {
        title: 'Image Signing & Verification (Sigstore)',
        description: 'Cosign, Rekor, Fulcio integration for cryptographic proof of image integrity.',
      },
      {
        title: 'Secrets Management',
        description: 'HashiCorp Vault, AWS Secrets Manager, encrypted GitOps—no secrets in Git, ever.',
      },
    ],
  },
  {
    title: 'Cloud Migration & Modernization',
    tagline: 'Legacy to cloud-native',
    color: 'purple',
    icon: `<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" /></svg>`,
    services: [
      {
        title: 'Lift-and-Shift to Containerization',
        description: 'Migrate VMs to Docker/Kubernetes with minimal downtime and risk.',
      },
      {
        title: 'Re-Architecture for Cloud-Native',
        description: 'Break monoliths into microservices, adopt cloud-native patterns (12-factor, service mesh).',
      },
      {
        title: 'Multi-Cloud Strategy & Execution',
        description: 'Avoid vendor lock-in with portable infrastructure across AWS, GCP, Azure.',
      },
      {
        title: 'Managed DevSecOps & Platform Ops',
        description: 'Ongoing retainer-based operations—we run your platform so your team can ship features.',
      },
    ],
  },
];

const colorClasses = {
  electric: 'from-electric to-ocean',
  purple: 'from-purple to-electric',
  cyan: 'from-cyan to-electric',
};
---

<section id="services" class="section-padding relative">
  <div class="absolute inset-0 hexagon-pattern opacity-20"></div>

  <div class="container-custom relative">
    <!-- Section Header -->
    <div class="text-center mb-16 reveal">
      <h2 class="text-4xl md:text-5xl font-bold mb-4">
        <span class="text-white">What We</span>
        <span class="text-gradient"> Build & Operate</span>
      </h2>
      <p class="text-xl text-steel max-w-3xl mx-auto">
        Production-grade platforms for SaaS companies and cloud-native teams. We design, build, secure, and operate your infrastructure—so you can focus on shipping features.
      </p>
    </div>

    <!-- Service Categories -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      {serviceCategories.map((category, catIndex) => (
        <div
          class={`card-glass p-8 transition-all duration-500 hover:-translate-y-2 reveal ${category.badge ? 'border-2 border-cyan relative' : ''}`}
          style={`transition-delay: ${catIndex * 100}ms`}
        >
          <div class="glow-effect"></div>
          {category.badge && (
            <div class="absolute -top-3 left-1/2 -translate-x-1/2 z-20">
              <span class="px-3 py-1 bg-cyan text-midnight text-xs font-bold rounded-full shadow-lg shadow-cyan/30">{category.badge}</span>
            </div>
          )}
          <div class="relative z-10">
            <!-- Category Header -->
            <div class={`inline-flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br ${colorClasses[category.color as keyof typeof colorClasses]} mb-6`}>
              <div class="text-white" set:html={category.icon} />
            </div>
            <h3 class="text-2xl font-bold text-white mb-2">{category.title}</h3>
            <p class="text-cyan text-sm font-medium mb-6">{category.tagline}</p>

            <!-- Services List -->
            <div class="space-y-4">
              {category.services.map((service) => (
                <div class="border-l-2 border-white/10 pl-4 hover:border-cyan transition-colors">
                  <h4 class="text-white font-semibold mb-1">{service.title}</h4>
                  <p class="text-steel text-sm">{service.description}</p>
                </div>
              ))}
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
